:root{
      --pink-1: #FFD8E6;
      --pink-2: #FFB3D2;
      --magenta: #FF6FA1;
      --peach: #FFD1B3;
      --violet: #B98BFF;
      --glass: rgba(255,255,255,0.10);
      --glass-2: rgba(255,255,255,0.06);
      --accent: #ff3e6c;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:'Poppins',sans-serif;background:#111; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}

    /* Full background: animated gradient glow */
    .bg {
      position:fixed; inset:0; z-index:-3; overflow:hidden;
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(255,240,245,0.35), transparent 10%),
        radial-gradient(1000px 700px at 90% 90%, rgba(240,230,255,0.28), transparent 10%),
        linear-gradient(135deg, rgba(255,210,225,0.18), rgba(218,185,255,0.12));
      display:block;
      pointer-events:none;
      animation: bgPulse 8s ease-in-out infinite;
    }
    @keyframes bgPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.92; }
    }

    /* Soft blurred photos behind */
    .photo-layer {
      position:fixed; inset:0; z-index:-2;
      background-image:
        url('https://images.unsplash.com/photo-1508341597140-0b2a6dc2a4a9?auto=format&fit=crop&w=2000&q=70'),
        url('https://images.unsplash.com/photo-1503264116251-35a269479413?auto=format&fit=crop&w=2000&q=70');
      background-size: cover, cover;
      background-position: center center, center top;
      filter: blur(8px) saturate(1.05) brightness(0.75);
      transform: scale(1.05);
      opacity:0.95;
    }

    /* soft overlay to tint everything premium pink */
    .tint {
      position:fixed; inset:0; z-index:-1;
      background: linear-gradient(120deg, rgba(255,182,193,0.25), rgba(185,125,255,0.18));
      mix-blend-mode: overlay;
      pointer-events:none;
    }

    /* Center container */
    .wrap {
      min-height:100vh; display:flex; align-items:center; justify-content:center; padding:32px;
    }

    .card {
      width: min(920px, 92%);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      border-radius:24px;
      padding:40px 36px;
      box-shadow: 0 20px 60px rgba(10,6,20,0.5), 0 0 0 1px rgba(255,255,255,0.04);
      backdrop-filter: blur(16px) saturate(1.15);
      border: 1px solid rgba(255,255,255,0.08);
      position:relative;
      overflow:visible;
      animation: cardEntrance 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      opacity: 0;
      transform: translateY(24px) scale(0.97);
    }
    @keyframes cardEntrance {
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    header {
      display:flex; gap:18px; align-items:center; justify-content:center; flex-direction:column;
      text-align:center;
      margin-bottom:6px;
    }

    .logo {
      width:96px;height:96px;border-radius:28px;
      background: linear-gradient(135deg,var(--pink-1),var(--pink-2));
      display:flex; align-items:center; justify-content:center;
      font-family:'Great Vibes', cursive; font-size:36px; color:#fff;
      box-shadow: 0 8px 28px rgba(255,105,180,0.22), inset 0 -6px 14px rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.12);
      animation: logoFloat 4s ease-in-out infinite;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .logo:hover {
      transform: scale(1.06);
      box-shadow: 0 12px 36px rgba(255,105,180,0.3);
    }
    @keyframes logoFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    h1 {
      margin:0; font-family:'Great Vibes',cursive; font-size:48px; color: #fff4fb;
      text-shadow: 0 4px 30px rgba(255,160,180,0.18);
    }

    .subtitle {
      margin-top:6px; font-weight:500; color: #ffeaf2; opacity:0.95;
      letter-spacing:0.2px;
    }

    /* message list area */
    #messages { margin-top:18px; display:flex; flex-direction:column; gap:12px; align-items:center; padding:10px 22px; }

    .line {
      width:100%;
      max-width:780px;
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border-radius:16px;
      padding:16px 20px;
      font-size:1.12rem; color:#fff;
      opacity:0; transform:translateY(24px) scale(0.98);
      transition: all 700ms cubic-bezier(.2,.9,.25,1), box-shadow 0.35s ease, transform 0.35s ease;
      box-shadow: 0 6px 20px rgba(0,0,0,0.2), inset 0 -6px 20px rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.06);
      backdrop-filter: blur(8px);
    }

    .line.show { opacity:1; transform:translateY(0) scale(1); }
    .line:hover { box-shadow: 0 10px 28px rgba(255,80,120,0.12), inset 0 -6px 20px rgba(255,255,255,0.03); border-color: rgba(255,255,255,0.1); }

    .line .emoji { margin-right:8px; font-size:1.18rem; }

    .controls { margin-top:28px; display:flex; gap:14px; justify-content:center; align-items:center; flex-wrap:wrap; }

    .btn {
      padding:14px 32px; border-radius:999px; border:0; cursor:pointer; font-weight:600;
      background: linear-gradient(135deg, var(--magenta), var(--accent)); color:white;
      box-shadow: 0 8px 28px rgba(255,50,110,0.2);
      transform: translateZ(0); transition: transform 0.25s ease, box-shadow 0.25s ease, filter 0.2s ease;
      font-size:1rem;
      letter-spacing: 0.02em;
    }
    .btn:hover {
      transform: scale(1.05) translateZ(0);
      box-shadow: 0 12px 36px rgba(255,50,110,0.35);
      filter: brightness(1.05);
    }
    .btn:active { transform: scale(0.98) translateZ(0); }
    .btn.ghost {
      background: rgba(255,255,255,0.06); color: #fff; border: 1px solid rgba(255,255,255,0.12);
      box-shadow: 0 4px 16px rgba(0,0,0,0.2);
    }
    .btn.ghost:hover {
      background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.18);
      box-shadow: 0 6px 20px rgba(255,255,255,0.08);
    }
    .btn.cta-pulse {
      animation: ctaPulse 2s ease-in-out infinite;
    }
    @keyframes ctaPulse {
      0%, 100% { box-shadow: 0 8px 28px rgba(255,50,110,0.25); }
      50% { box-shadow: 0 12px 40px rgba(255,50,110,0.45); }
    }

    /* Progress dots */
    .progress-dots {
      display: flex; gap: 8px; justify-content: center; align-items: center;
      margin-top: 16px; flex-wrap: wrap;
    }
    .progress-dots .dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: rgba(255,255,255,0.2); transition: all 0.35s ease;
    }
    .progress-dots .dot.filled {
      background: linear-gradient(135deg, var(--magenta), var(--accent));
      box-shadow: 0 0 12px rgba(255,62,108,0.5);
      transform: scale(1.2);
    }
    .keyboard-hint {
      margin-top: 10px; font-size: 0.8rem; color: rgba(255,255,255,0.5);
      letter-spacing: 0.05em;
    }

    /* final reveal panel */
    .reveal {
      position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:50;
      pointer-events:none; opacity:0; transition: opacity 0.5s ease;
      background: rgba(0,0,0,0.25);
      backdrop-filter: blur(4px);
    }
    .reveal.show { opacity:1; pointer-events:auto; }

    .reveal-card {
      max-width:880px; width:95%; padding:48px 40px; border-radius:24px; text-align:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
      box-shadow: 0 40px 100px rgba(10,6,20,0.6), 0 0 0 1px rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(20px);
      animation: revealPop 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      transform: scale(0.9); opacity: 0;
    }
    .reveal.show .reveal-card { animation: revealPop 0.6s cubic-bezier(0.22, 1, 0.36, 1) 0.15s forwards; transform: scale(0.9); opacity: 0; }
    @keyframes revealPop {
      to { transform: scale(1); opacity: 1; }
    }
    .reveal-card h2 {
      margin: 0 0 16px 0; font-family:'Great Vibes',cursive; font-size:72px; color:#fff6fb;
      text-shadow: 0 10px 40px rgba(255,120,160,0.25);
      animation: titleGlow 2s ease-in-out infinite alternate;
    }
    @keyframes titleGlow {
      from { text-shadow: 0 8px 32px rgba(255,120,160,0.2); }
      to { text-shadow: 0 12px 48px rgba(255,120,160,0.35); }
    }
    .reveal-card p { margin: 0; font-size: 1.3rem; color: #ffeef6; line-height: 1.5; }

    /* small subtitle */
    .small {
      margin-top: 16px; font-size: 1.05rem; color: #ffdff0; opacity: 0.95;
      font-style: italic; letter-spacing: 0.02em;
    }

    /* heart styling created by JS */
    .heart {
      position:fixed; width:36px; height:36px; transform-origin:center;
      pointer-events:none; z-index:45;
      will-change: transform, opacity;
      filter: drop-shadow(0 6px 20px rgba(255,80,140,0.18));
    }
    .heart.burst-heart {
      width:14px; height:14px;
      transform: translate(-50%, -50%);
    }
    .heart svg { width:100%; height:100%; display:block; }

    /* helper: tiny sparkle behind */
    .spark {
      position:absolute; width:8px; height:8px; border-radius:50%; background:rgba(255,255,255,0.9);
      box-shadow:0 6px 20px rgba(255,255,255,0.5);
      animation: sparkle 1.6s linear infinite;
      opacity:0.9; transform:translate(-50%,-50%);
    }
    @keyframes sparkle {
      0%{ transform:translate(-50%,-50%) translateY(0) scale(.9); opacity:1;}
      100%{ transform:translate(-50%,-50%) translateY(-18px) scale(1.6); opacity:0;}
    }

    /* Background twinkles */
    .twinkle {
      position: fixed; width: 4px; height: 4px; border-radius: 50%;
      background: rgba(255,255,255,0.8); pointer-events: none; z-index: -2;
      animation: twinkle 3s ease-in-out infinite;
    }
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.5); }
    }

    /* media */
    @media (max-width:520px){
      h1{ font-size:32px }
      .reveal-card h2{ font-size:44px }
      .logo{ width:76px;height:76px;font-size:30px;border-radius:18px;}
    }